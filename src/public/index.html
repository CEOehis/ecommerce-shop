<html>
  <head>
    <title>Stripe Checkout Integration</title>
    <script src="https://checkout.stripe.com/checkout.js"></script>
  </head>

  <body>
    <h2>Stripe Checkout Example</h2>

    <div id="shop">
      <button id="buttonCheckout">Checkout</button>
    </div>
  </body>

  <script>
    var checkoutHandler = StripeCheckout.configure({
      key: 'pk_test_Vm9TOT7YisZiGSdd5dQ39Zis00NRuNM3St',
      locale: 'auto',
    });

    console.log('checkoutHandler', checkoutHandler);

    var button = document.getElementById('buttonCheckout');
    button.addEventListener('click', function(ev) {
      checkoutHandler.open({
        name: 'Sample Store',
        description: 'Example Purchase',
        token: handleToken,
      });
    });

    function handleToken(token) {
      document.getElementById('shop').innerHTML = `<p>Token generated: ${
        token.id
      }. Use token to complete checkout</p>`;
    }
  </script>
</html>
